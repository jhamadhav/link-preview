<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta property="og:title" content="Link Preview">
    <meta name="description" content="Get link preview on hover !" />
    <meta property="og:image" content="/images/dummy.svg">
    <meta property="og:url" content="https://link-viewer.heroku.com/">
    <link href="https://fonts.googleapis.com/css2?family=Poppins&family=Roboto&family=Rosario&display=swap"
        rel="stylesheet">
    <!-- style -->
    <link rel="stylesheet" href="./styles/main.min.css">
    <title>Link preview | web-scraper</title>
    <!-- scripts -->
    <script src="./nav.js"></script>
    <script src="./main.js" defer></script>
</head>

<body>
    <nav>
        <div class="burger" onclick="menuOpen()">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <div id="nav-h">Link Preview</div>

        <ul class="nav-links">
            <a href="#main-h">
                <li onclick="menuOpen()"> Search</li>
            </a>
            <a href="#code">
                <li onclick="menuOpen()">code</li>
            </a>
            <a href="#extension">
                <li onclick="menuOpen()">extension</li>
            </a>
        </ul>
    </nav>

    <h1 id="main-h"><a href="https://github.com/jhamadhav/link-preview">Link Preview</a></h1>
    <div class="bg">
        <img src="./images/notify.svg" alt="">
    </div>
    <main id="link-preview" class="container">
        <div class="data">
            <div id="title">Title comes here</div>
            <hr>
            <div id="description">Here goes description : Lorem Ipsum is simply dummy text of the printing and

            </div>
            <div id="url">Here comes the actual url</div>
        </div>
        <div class="img">
            <img src="./images/dummy.svg" alt="preview image" id="image">
        </div>
    </main>
    <section>
        <input type="text" id="inp" placeholder="Preview Link">
        <div id="search">
            <?xml version="1.0" encoding="iso-8859-1"?>
            <!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                <g>
                    <g>
                        <path d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474
                        c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323
                        c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848
                        S326.847,409.323,225.474,409.323z" />
                    </g>
                </g>
                <g>
                    <g>
                        <path
                            d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328
                        c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z" />
                    </g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
            </svg>
        </div>
    </section>

    <div class="tab">
        <div class="heading">What is it ?</div>
        <p>It's called a <a href="https://github.com/jhamadhav/link-preview">link Preview</a>, what it intends to do is
            show the user the content of the link
            he/she is about
            to click.The reviews feature solves the core problem of users needing to open multiple tabs to gain an
            understanding of a word or concept within the context of the subject they are reading. <br> <br>
            With link previews,
            whenever a reader hovers over a link to another page, a short summary of the subject and an image (if
            available) is displayed. The user can then decide whether they wish to visit that page more thoroughly
            before continuing. </p>
    </div>

    <div class="tab" id="extension">
        <div class="heading">How to use it ?</div>
        <p>To test it out, Paste any link that you wish to see in the <a href="#main-h">search bar</a> above
            and <i>Voila</i> you
            have your preview.
            <br><br>
            Want to have it as a extension in your browser, follow along : <br>
        <ol>
            <li>Visit the <a href="https://addons.mozilla.org/en-US/firefox/">Firefox addon</a> page or <a
                    href="https://chrome.google.com/webstore/category/extensions">Chrome store</a> for chrome users.
            </li>
            <li>Search for link preview in the search bar.</li>
            <li>Found it ! Click on add it to your browser, give all the permission</li>
            <li>And you have your own link previewer ready !</li>
        </ol>
        </p>
    </div>

    <div class="tab" id="code">
        <div class="heading">So how does it work again ?</div>
        <p>We talked above about what it does lets know about how it works, i.e. the coding behind it. <br> Let's dive
            into it : <br>

            <!-- step 1 -->
        <div class="step">Step 1 :</div>
        <span>First comes the HTML part of the previewer, it includes a title, description, url and a image. All this is
            contained in a external div. <br> <br> The code is as follows : <br>
            <script src="https://gist.github.com/jhamadhav/1662497adf3fe6af9aab887e3d8d3e9a.js"></script>
        </span>

        <!-- step 2 -->
        <div class="step">Step 2 :</div>
        <span>Next is the styling of the viewer.. lets skip that for now as it's all just basics <br> <br> The code is
            as follows : <br>
            <a href="https://gist.github.com/jhamadhav/52381bcc703a0c849b4fbe8b8af8e318">link-preview.scc</a>
        </span>
        </p>
    </div>


    <div class="tab">
        <div class="heading">Client side code : </div>
        <p>
            <!-- step 3 -->
        <div class="step">Step 3 :</div>
        <span>Now lets come to the logic part, When the user hovers over a link i.e an anchor tag (mostly), an event
            listener is added to the anchor tags that captures the url that it points to and sends it to another
            function. <br> <br> The code
            is
            as follows :
            <script src="https://gist.github.com/jhamadhav/8a32acd298a5d1a615691499dbbb9990.js"></script>
        </span>

        <!-- step 4 -->
        <div class="step">Step 4 :</div>
        <span>The data about the targeted link is fetched from a database, thus it is a async function i.e. it may take
            some time for the data to come till then show loading text. <br>Once done check if the link has already been
            fetched and stored in an array called <b>links</b>. If it exists then don't send a request to the database
            else send a fetch request. <br> <br> The code
            is
            as follows :
            <script src="https://gist.github.com/jhamadhav/fe7f492a0345ed2df76e9218ec02a1cc.js"></script>
        </span>

        <!-- step 5 -->
        <div class="step">Step 5 :</div>
        <span>Once the data has been fetched from the database or has been found in the local variable, fill the dom
            elements that we created earlier with it <br> <br> The code
            is
            as follows :
            <script src="https://gist.github.com/jhamadhav/b53f674df09c28f8b73054229d7cfdcc.js"></script>
        </span>
        </p>
    </div>

    <div class="tab">
        <div class="heading">Server side code</div>
        <p>
            <!-- step 6 -->
        <div class="step">Step 6 :</div>
        <span>Once the url is received by the server, it checks if the url is actually a correct url and if it is it
            queries the database for it and if it comes undefined then scrape the pointed url for the meta tags to look
            for the data we need. <br> <br> The code
            is
            as follows :
            <script src="https://gist.github.com/jhamadhav/99def696fd10c7435bcd87f631f951f0.js"></script>
        </span> <br> <br>
        The scraper code logic is not explained here as it has been explained very well by many other articles one such
        is this one from the <a
            href="https://medium.com/nuom-digital/an-introduction-to-web-scraping-with-node-js-and-cheeriojs-62755b556b3e">Medium</a>.
        </p>
    </div>

    <div class="tab">
        <div class="heading">Few words :</div>
        <p>
            Thanks for reading till the end, I hope you enjoyed the explanation. Check my social handles and feel free
            to mail me if you have any queries.
            <br>
            Keep Coding! keep Innovating!
        </p>
    </div>

    <footer>
        <img src="./images/msg.svg" alt="message sent">
        <h2>Contact me !</h2>
        <div class="msg">
            <input type="text" id="mail_msg" placeholder="Type in your mail subject">
            <button id="email_send" onclick="send_mail()">Send</button>
        </div>

        <div class="end-holder">

            <div class="copyright">Copyright 2020 &copy; All rights reserved</div>
            <div class="social-links">
                <a href="https://github.com/jhamadhav/link-preview"><svg id="Bold" enable-background="new 0 0 24 24"
                        height="512" viewBox="0 0 24 24" width="512" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="m12 .5c-6.63 0-12 5.28-12 11.792 0 5.211 3.438 9.63 8.205 11.188.6.111.82-.254.82-.567 0-.28-.01-1.022-.015-2.005-3.338.711-4.042-1.582-4.042-1.582-.546-1.361-1.335-1.725-1.335-1.725-1.087-.731.084-.716.084-.716 1.205.082 1.838 1.215 1.838 1.215 1.07 1.803 2.809 1.282 3.495.981.108-.763.417-1.282.76-1.577-2.665-.295-5.466-1.309-5.466-5.827 0-1.287.465-2.339 1.235-3.164-.135-.298-.54-1.497.105-3.121 0 0 1.005-.316 3.3 1.209.96-.262 1.98-.392 3-.398 1.02.006 2.04.136 3 .398 2.28-1.525 3.285-1.209 3.285-1.209.645 1.624.24 2.823.12 3.121.765.825 1.23 1.877 1.23 3.164 0 4.53-2.805 5.527-5.475 5.817.42.354.81 1.077.81 2.182 0 1.578-.015 2.846-.015 3.229 0 .309.21.678.825.56 4.801-1.548 8.236-5.97 8.236-11.173 0-6.512-5.373-11.792-12-11.792z" />
                    </svg></a>
                <a href="https://jhamadhav.com">
                    <?xml version="1.0" encoding="iso-8859-1"?>
                    <!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
                    <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512"
                        style="enable-background:new 0 0 512 512;" xml:space="preserve">
                        <g>
                            <g>
                                <path d="M163.83,151H241V32.501C208.786,43.079,179.815,88.297,163.83,151z" />
                            </g>
                        </g>
                        <g>
                            <g>
                                <path d="M163.83,361c15.985,62.703,44.956,107.921,77.17,118.499V361H163.83z" />
                            </g>
                        </g>
                        <g>
                            <g>
                                <path
                                    d="M497,181H15c-8.284,0-15,6.714-15,15v120c0,8.284,6.716,15,15,15h482c8.284,0,15-6.716,15-15V196
                                C512,187.714,505.284,181,497,181z M479.418,232.709l-30,60C446.869,297.792,441.684,301,436,301
                                c-5.684,0-10.869-3.208-13.418-8.291L406,259.545l-16.582,33.164c-5.098,10.166-21.738,10.166-26.836,0l-28.74-57.495
                                c-1.729-2.122-2.714-4.788-3.034-7.634c-0.185,1.734-0.564,3.477-1.39,5.129l-30,60C296.869,297.792,291.684,301,286,301
                                c-5.684,0-10.869-3.208-13.418-8.291L256,259.545l-16.582,33.164c-5.098,10.166-21.738,10.166-26.836,0l-30-60
                                c-0.795-1.589-1.137-3.267-1.337-4.935c-0.377,3.232-1.597,6.178-3.571,8.421l-28.257,56.514C146.869,297.792,141.684,301,136,301
                                s-10.869-3.208-13.418-8.291L106,259.545l-16.582,33.164C86.869,297.792,81.684,301,76,301s-10.869-3.208-13.418-8.291l-30-60
                                c-3.706-7.412-0.703-16.421,6.709-20.127c7.397-3.662,16.392-0.718,20.127,6.709L76,252.455l16.582-33.164
                                c5.307-10.649,21.288-11.097,26.836,0L136,252.455l16.582-33.164c2.695-5.391,8.364-8.32,14.385-8.262
                                c7.753,0.509,13.916,6.903,14.242,14.509c0.179-5.321,2.985-10.408,8.082-12.957c7.427-3.662,16.406-0.718,20.127,6.709
                                L226,252.455l16.582-33.164c5.098-10.166,21.738-10.166,26.836,0L286,252.455l16.582-33.164
                                c3.706-7.427,12.715-10.371,20.127-6.709c5.054,2.527,7.839,7.549,8.064,12.819c0.291-7.535,5.649-13.808,13.351-14.313
                                c6.182-0.146,12.598,2.813,15.294,8.203L376,252.455l16.582-33.164c5.098-10.166,21.738-10.166,26.836,0L436,252.455
                                l16.582-33.164c3.721-7.427,12.7-10.371,20.127-6.709C480.121,216.288,483.124,225.297,479.418,232.709z" />
                            </g>
                        </g>
                        <g>
                            <g>
                                <path d="M271,361v118.499c32.214-10.578,61.185-55.796,77.17-118.499H271z" />
                            </g>
                        </g>
                        <g>
                            <g>
                                <path d="M271,32.501V151h77.17C332.185,88.297,303.214,43.079,271,32.501z" />
                            </g>
                        </g>
                        <g>
                            <g>
                                <path
                                    d="M133.019,361H24.544C65.545,451.022,156.334,512,256,512C201.814,512,154.477,452.326,133.019,361z" />
                            </g>
                        </g>
                        <g>
                            <g>
                                <path
                                    d="M378.981,361C357.523,452.326,310.186,512,256,512c99.666,0,190.455-60.978,231.456-151H378.981z" />
                            </g>
                        </g>
                        <g>
                            <g>
                                <path
                                    d="M24.544,151h108.475C154.477,59.674,201.814,0,256,0C156.334,0,65.545,60.978,24.544,151z" />
                            </g>
                        </g>
                        <g>
                            <g>
                                <path
                                    d="M256,0c54.186,0,101.523,59.674,122.981,151h108.475C446.455,60.978,355.666,0,256,0z" />
                            </g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                        <g>
                        </g>
                    </svg>
                </a>
                <a href="https://www.linkedin.com/in/madhav-jha-7452511b2/"><svg height="512pt" viewBox="0 0 512 512"
                        width="512pt" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="m475.074219 0h-438.148438c-20.394531 0-36.925781 16.53125-36.925781 36.925781v438.148438c0 20.394531 16.53125 36.925781 36.925781 36.925781h438.148438c20.394531 0 36.925781-16.53125 36.925781-36.925781v-438.148438c0-20.394531-16.53125-36.925781-36.925781-36.925781zm-293.464844 387h-62.347656v-187.574219h62.347656zm-31.171875-213.1875h-.40625c-20.921875 0-34.453125-14.402344-34.453125-32.402344 0-18.40625 13.945313-32.410156 35.273437-32.410156 21.328126 0 34.453126 14.003906 34.859376 32.410156 0 18-13.53125 32.402344-35.273438 32.402344zm255.984375 213.1875h-62.339844v-100.347656c0-25.21875-9.027343-42.417969-31.585937-42.417969-17.222656 0-27.480469 11.601563-31.988282 22.800781-1.648437 4.007813-2.050781 9.609375-2.050781 15.214844v104.75h-62.34375s.816407-169.976562 0-187.574219h62.34375v26.558594c8.285157-12.78125 23.109375-30.960937 56.1875-30.960937 41.019531 0 71.777344 26.808593 71.777344 84.421874zm0 0" />
                    </svg></a>
            </div>
        </div>
    </footer>
</body>

</html>